<div class="main-content">
  <!-- Section 1 -->
  <div class="section">
    <h2>Get Inspiration Here!</h2>
    <div class="search-bar">
      <input type="text" [(ngModel)]="randomNumber" placeholder="Put in a random number!" />
      <button (click)="searchMedia()">Search</button>
    </div>
    <!-- Error Message for Invalid Input -->
    <div *ngIf="invalidInput" class="error-message">
      Invalid input! Please enter a valid number.
    </div>

    <div class="card-container-flex" *ngIf="media">
      <div class="card">
        <div class="card-title">{{ media.title }}</div>
        <div class="card-details">
          <p>Genre: {{ media.genre_Id }}</p>
          <p>Age Rating: {{ media.age_Rating }}</p>
          <p>Quality: {{ media.quality }}</p>
        </div>
      </div>
    </div>
    <div *ngIf="isLoading">Loading...</div>
    <div *ngIf="!isLoading && !media">No data available. Please try a different number.</div>

    <section class="flex flex-row gap-2 flex-wrap py-4">
      @for(genre of genres; track genre.genre_Id){
        <button class="bg-red-500text-white p-4 hover:text-red-500" [ngClass]="active === genre.type ?  'text-red-500' : 'text-white'  " (click)="onGenreButtonClicked(genre.type)">
          {{genre.type}}
        </button>
      }
    </section>
<section class="mx-8 p-8 flex flex-col gap-4">
  @for (movie of movies;track movie.movie_id){
    <div class="px-6 py-2 bg-gray-400 hover:bg-gray-500 hover:cursor-pointer">
      <p class="text-red-500">
        {{movie.title}}
      </p>
    </div>
  }
</section>
  </div>
</div>
